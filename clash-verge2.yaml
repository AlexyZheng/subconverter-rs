# Generated by Clash Verge

mode: rule
mixed-port: 7897
allow-lan: false
log-level: warning
ipv6: true
external-controller: 127.0.0.1:9090
secret: '1'
unified-delay: true
external-controller-unix: /var/tmp/verge/verge-mihomo.sock
tun:
  auto-detect-interface: true
  auto-route: true
  device: Mihomo
  dns-hijack:
  - any:53
  mtu: 1500
  stack: system
  strict-route: true
  enable: true
external-controller-cors:
  allow-private-network: true
  allow-origins:
  - tauri://localhost
  - http://tauri.localhost
  - https://yacd.metacubex.one
  - https://metacubex.github.io
  - https://board.zash.run.place
dns:
  default-nameserver:
  - system
  - 223.6.6.6
  - 8.8.8.8
  - 2400:3200::1
  - 2001:4860:4860::8888
  direct-nameserver: []
  direct-nameserver-follow-policy: false
  enable: true
  enhanced-mode: fake-ip
  fake-ip-filter:
  - '*.lan'
  - '*.local'
  - '*.arpa'
  - time.*.com
  - ntp.*.com
  - time.*.com
  - +.market.xiaomi.com
  - localhost.ptlogin2.qq.com
  - '*.msftncsi.com'
  - www.msftconnecttest.com
  fake-ip-filter-mode: blacklist
  fake-ip-range: 198.18.0.1/16
  fallback: []
  fallback-filter:
    domain:
    - +.google.com
    - +.facebook.com
    - +.youtube.com
    geoip: true
    geoip-code: CN
    ipcidr:
    - 240.0.0.0/4
    - 0.0.0.0/32
  ipv6: true
  listen: :53
  nameserver:
  - 8.8.8.8
  - https://doh.pub/dns-query
  - https://dns.alidns.com/dns-query
  prefer-h3: false
  proxy-server-nameserver:
  - https://doh.pub/dns-query
  - https://dns.alidns.com/dns-query
  - tls://223.5.5.5
  respect-rules: false
  use-hosts: false
  use-system-hosts: false
proxy: null
rule: null
proxy group: null
external-ui: ./dashboard
profile:
  store-selected: true
proxies:
- type: trojan
  name: (S103)t.me/PrivateVPNs
  server: 52.47.52.84
  port: 22222
  udp: true
  tfo: true
  skip-cert-verify: true
  sni: trojan.burgerip.co.uk
  password: telegram-id-privatevpns
- type: trojan
  name: (S103)t.me/PrivateVPNs 2
  server: 51.45.9.76
  port: 22222
  udp: true
  tfo: true
  skip-cert-verify: true
  sni: trojan.burgerip.co.uk
  password: telegram-id-privatevpns
- type: vless
  name: Iceland WorkTitans
  server: 45.83.21.107
  port: 59997
  udp: true
  tfo: true
  skip-cert-verify: true
  uuid: c3dd7afc-151f-44f6-8263-ad3c8420ae2f
  tls: true
  network: tcp
  reality-opts:
    public-key: m4ipEx1PUfb6F5Uv5Mwe5g34TzdNkG_rIQ0xw-Do1mI
    short-id: 816473be23c2
  servername: yahoo.com
  client-fingerprint: chrome
- type: vless
  name: Germany netcup
  server: 188.68.53.100
  port: 6666
  udp: true
  tfo: true
  skip-cert-verify: true
  uuid: 0abf9050-c7be-464d-80af-24094c2b97de
  tls: true
  network: tcp
  reality-opts:
    public-key: S_2bepGaT7EHeH5DdyEgio421RTgrAvvOOQiaq8zV0g
    short-id: b525ecd2fc
  servername: Tgju.org
  client-fingerprint: chrome
- type: vless
  name: Belgium WorkTitans
  server: 45.83.20.34
  port: 58164
  udp: true
  tfo: true
  skip-cert-verify: true
  uuid: 34c9f621-0614-4b7f-aab3-c4400bb15a89
  tls: true
  network: tcp
  reality-opts:
    public-key: 7cbcFHSx2vqz38zW9BmlSIHTTSdNtlgv_S5uZ0MSIAE
    short-id: 788456bc
  servername: yahoo.com
  client-fingerprint: chrome
- type: vless
  name: United States Cloudflare
  server: 188.42.145.253
  port: 2096
  udp: true
  tfo: true
  skip-cert-verify: true
  uuid: f61a4285-7264-4d07-9408-7b9ba1922c26
  tls: true
  network: ws
  ws-opts:
    path: /TelegramU0001F1E8U0001F1F3 @WangCai2 /?ed
    headers:
      Host: gaosir.unfeeling.sbs
      User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36
  servername: gaosir.unfeeling.sbs
  client-fingerprint: chrome
proxy-groups:
- name: ‚ôªÔ∏è Ëá™Âä®ÈÄâÊã© –ê–≤—Ç–æ–≤—ã–±–æ—Ä
  type: url-test
  proxies:
  - (S103)t.me/PrivateVPNs
  - (S103)t.me/PrivateVPNs
  - Iceland WorkTitans
  - Germany netcup
  - Belgium WorkTitans
  - United States Cloudflare
  url: http://www.gstatic.com/generate_204
  interval: 300
  tolerance: 50
  lazy: false
- name: ‰∏≠‰øÑÁΩëÈ≠öÂñÆ –ö–ù–†-–†–§ –ü–æ–π–º–∞–Ω–Ω–æ–π —Ä—ã–±—ã
  type: select
  proxies:
  - ‚ôªÔ∏è Ëá™Âä®ÈÄâÊã© –ê–≤—Ç–æ–≤—ã–±–æ—Ä
  - (S103)t.me/PrivateVPNs
  - (S103)t.me/PrivateVPNs
  - Iceland WorkTitans
  - Germany netcup
  - Belgium WorkTitans
  - United States Cloudflare
- name: ‰∏≠ÂúãÂúãÂÖß –ö–ù–† –í –ø—Ä–µ–¥–µ–ª–∞—Ö
  type: select
  proxies:
  - DIRECT
  - (S103)t.me/PrivateVPNs
  - (S103)t.me/PrivateVPNs
  - Iceland WorkTitans
  - Germany netcup
  - Belgium WorkTitans
  - United States Cloudflare
- name: ‰øÑÁæÖÊñØÂúãÂÖß –†–§ –í –ø—Ä–µ–¥–µ–ª–∞—Ö
  type: select
  proxies:
  - DIRECT
  - (S103)t.me/PrivateVPNs
  - (S103)t.me/PrivateVPNs
  - Iceland WorkTitans
  - Germany netcup
  - Belgium WorkTitans
  - United States Cloudflare
- name: ÊºèÁΩë‰πãÈ≠ö –ù–µ–ø–æ–π–º–∞–Ω–Ω–∞—è —Ä—ã–±–∞
  type: select
  proxies:
  - DIRECT
  - ‚ôªÔ∏è Ëá™Âä®ÈÄâÊã© –ê–≤—Ç–æ–≤—ã–±–æ—Ä
- name: –†–§
  type: select
  proxies:
  - ‚ôªÔ∏è Ëá™Âä®ÈÄâÊã© –ê–≤—Ç–æ–≤—ã–±–æ—Ä
  - DIRECT
- name: ÂπøÂëä –†–µ–∫–ª–∞–º—ã
  type: select
  proxies:
  - REJECT
- name: üñßLAN
  type: select
  proxies:
  - DIRECT

  # --- NEW SECTION: RULE PROVIDERS (The data source for the rules) ---
rule-providers:
  # 1. Remote MRS for IP-CIDR rules (e.g., routing IPs to China, DIRECT, or a Gaming group)
  ipcidr-mrs-remote:
    type: http
    url: "https://github.com/AlexyZheng/subconverter-rs/raw/refs/heads/main/base/rules/rules_ipcidr.mrs"
    path: rules_ipcidr.mrs # Local path where Mihomo caches the file
    behavior: ipcidr
    format: mrs            # CRITICAL: Tells Mihomo to use the binary format
    interval: 86400        # Check for updates every 24 hours (86400 seconds)

  # 2. Remote MRS for DOMAIN rules (e.g., routing domains to Streaming, Proxy-Groups, or DIRECT)
  domain-mrs-remote:
    type: http
    url: "https://github.com/AlexyZheng/subconverter-rs/raw/refs/heads/main/base/rules/rules_domain.mrs"
    path: rules_domain.mrs # Local path where Mihomo caches the file
    behavior: domain
    format: mrs            # CRITICAL: Tells Mihomo to use the binary format
    interval: 86400        # Check for updates every 24 hours (86400 seconds)

# --- MODIFIED SECTION: RULES (The traffic dispatcher) ---
# This section now includes GEOIP and USER-AGENT rules.
rules:
# 1. HIGH-PRIORITY RULES (Keep these for proxy server IP resolution and other critical traffic)
# These rules ensure your proxy servers' IPs don't get routed back through the proxy.
- IP-CIDR,188.42.145.253/32,DIRECT,no-resolve
- IP-CIDR,45.83.20.34/32,DIRECT,no-resolve
- IP-CIDR,188.68.53.100/32,DIRECT,no-resolve
- IP-CIDR,45.83.21.107/32,DIRECT,no-resolve
- IP-CIDR,51.45.9.76/32,DIRECT,no-resolve
- IP-CIDR,52.47.52.84/32,DIRECT,no-resolve

# 3. NEW GEOIP RULES
# Rule-based on the country of the destination IP address.
- GEOIP,CN,‰∏≠ÂúãÂúãÂÖß –ö–ù–† –í –ø—Ä–µ–¥–µ–ª–∞—Ö              # Send all traffic bound for China (CN) DIRECT
- GEOIP,RU,‰øÑÁæÖÊñØÂúãÂÖß –†–§ –í –ø—Ä–µ–¥–µ–ª–∞—Ö           # Send traffic bound for Russia (RU) to the Russian/Domestic proxy group

# 4. ACTIVATE THE MRS RULE SETS (High-Speed Routing for all other traffic)

# IP-CIDR Matching: Prioritized for faster routing of IP-based traffic
- RULE-SET,ipcidr-mrs-remote,‰∏≠ÂúãÂúãÂÖß –ö–ù–† –í –ø—Ä–µ–¥–µ–ª–∞—Ö

# Domain Matching: Checked next for all remaining traffic
- RULE-SET,domain-mrs-remote,‰∏≠‰øÑÁΩëÈ≠öÂñÆ –ö–ù–†-–†–§ –ü–æ–π–º–∞–Ω–Ω–æ–π —Ä—ã–±—ã

# 5. FINAL CATCH-ALL (MUST BE LAST)
# Any unmatched traffic falls into this policy group.
- MATCH,ÊºèÁΩë‰πãÈ≠ö –ù–µ–ø–æ–π–º–∞–Ω–Ω–∞—è —Ä—ã–±–∞

